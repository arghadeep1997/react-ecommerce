{"ast":null,"code":"import{createContext,useContext,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const initialState={cart:[],cartItemCount:()=>0,addToCart:()=>null,removeFromCart:()=>null,increaseQuantity:()=>null,decreaseQuantity:()=>null};const CartContext=/*#__PURE__*/createContext(initialState);const useCart=()=>useContext(CartContext);const CartProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState(initialState.cart);const cartItemCount=()=>{return cart.reduce((acc,item)=>acc+item.quantity,0);};const addToCart=product=>{const productIdx=cart.findIndex(item=>item.product.id===product.id);if(productIdx!==-1){increaseQuantity(product.id);}else{setCart([...cart,{product,quantity:1}]);}};const removeFromCart=productId=>{setCart(cart.filter(item=>item.product.id!==productId));};const increaseQuantity=productId=>{const copy=cart.slice();const productIdx=copy.findIndex(item=>item.product.id===productId);if(productIdx!==-1){copy[productIdx].quantity+=1;setCart(copy);}};const decreaseQuantity=productId=>{const copy=cart.slice();const productIdx=copy.findIndex(item=>item.product.id===productId);if(productIdx!==-1&&copy[productIdx].quantity>1){copy[productIdx].quantity-=1;setCart(copy);}};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,cartItemCount,addToCart,removeFromCart,increaseQuantity,decreaseQuantity},children:children});};export{useCart,CartProvider};","map":{"version":3,"names":["createContext","useContext","useState","jsx","_jsx","initialState","cart","cartItemCount","addToCart","removeFromCart","increaseQuantity","decreaseQuantity","CartContext","useCart","CartProvider","_ref","children","setCart","reduce","acc","item","quantity","product","productIdx","findIndex","id","productId","filter","copy","slice","Provider","value"],"sources":["/home/argha/Documents/ReactJS/ecommerce/src/context/cart.js"],"sourcesContent":["import { createContext, useContext, useState } from \"react\";\n\nconst initialState = {\n  cart: [],\n  cartItemCount: () => 0,\n  addToCart: () => null,\n  removeFromCart: () => null,\n  increaseQuantity: () => null,\n  decreaseQuantity: () => null,\n};\n\nconst CartContext = createContext(initialState);\n\nconst useCart = () => useContext(CartContext);\n\nconst CartProvider = ({ children }) => {\n  const [cart, setCart] = useState(initialState.cart);\n\n  const cartItemCount = () => {\n    return cart.reduce((acc, item) => acc + item.quantity, 0);\n  };\n\n  const addToCart = (product) => {\n    const productIdx = cart.findIndex((item) => item.product.id === product.id);\n    if (productIdx !== -1) {\n      increaseQuantity(product.id);\n    } else {\n      setCart([...cart, { product, quantity: 1 }]);\n    }\n  };\n\n  const removeFromCart = (productId) => {\n    setCart(cart.filter((item) => item.product.id !== productId));\n  };\n\n  const increaseQuantity = (productId) => {\n    const copy = cart.slice();\n    const productIdx = copy.findIndex((item) => item.product.id === productId);\n    if (productIdx !== -1) {\n      copy[productIdx].quantity += 1;\n      setCart(copy);\n    }\n  };\n\n  const decreaseQuantity = (productId) => {\n    const copy = cart.slice();\n    const productIdx = copy.findIndex((item) => item.product.id === productId);\n    if (productIdx !== -1 && copy[productIdx].quantity > 1) {\n      copy[productIdx].quantity -= 1;\n      setCart(copy);\n    }\n  };\n\n  return (\n    <CartContext.Provider\n      value={{\n        cart,\n        cartItemCount,\n        addToCart,\n        removeFromCart,\n        increaseQuantity,\n        decreaseQuantity,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport { useCart, CartProvider };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}