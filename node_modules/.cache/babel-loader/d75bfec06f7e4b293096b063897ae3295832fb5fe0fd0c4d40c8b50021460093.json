{"ast":null,"code":"import{useEffect,useState}from\"react\";import{FakeStoreApi}from\"../../services/fake-store-api\";import{useSearchParams}from\"react-router-dom\";import Item from\"../item/item\";import{useCart}from\"../../context/cart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Products=()=>{const[loading,setLoading]=useState(true);const[products,setProducts]=useState([]);const[query]=useSearchParams();const{addToCart}=useCart();const searchQuery=query.get(\"q\");useEffect(()=>{const fetchProducts=async()=>{setLoading(true);const products=searchQuery?await FakeStoreApi.fetchProductsBySearchQuery(searchQuery):await FakeStoreApi.fetchAllProducts();setProducts(products);setLoading(false);};fetchProducts().catch(console.error);},[searchQuery]);if(!loading&&searchQuery&&!products.length){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"product py-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"details p-3\",children:\"No products found matching your query.\"})})});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"products my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"loader\"}):products.map(product=>/*#__PURE__*/_jsx(Item,{data:product,addToCart:()=>addToCart(product)},product.id))})})})});};export default Products;","map":{"version":3,"names":["useEffect","useState","FakeStoreApi","useSearchParams","Item","useCart","jsx","_jsx","Fragment","_Fragment","Products","loading","setLoading","products","setProducts","query","addToCart","searchQuery","get","fetchProducts","fetchProductsBySearchQuery","fetchAllProducts","catch","console","error","length","className","children","map","product","data","id"],"sources":["/home/argha/Documents/ReactJS/ecommerce/src/component/products/products.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { FakeStoreApi } from \"../../services/fake-store-api\";\nimport { useSearchParams } from \"react-router-dom\";\nimport Item from \"../item/item\";\nimport { useCart } from \"../../context/cart\";\n\nconst Products = () => {\n  const [loading, setLoading] = useState(true);\n  const [products, setProducts] = useState([]);\n  const [query] = useSearchParams();\n  const { addToCart } = useCart();\n\n  const searchQuery = query.get(\"q\");\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setLoading(true);\n      const products = searchQuery\n        ? await FakeStoreApi.fetchProductsBySearchQuery(searchQuery)\n        : await FakeStoreApi.fetchAllProducts();\n      setProducts(products);\n      setLoading(false);\n    };\n    fetchProducts().catch(console.error);\n  }, [searchQuery]);\n\n  if (!loading && searchQuery && !products.length) {\n    return (\n      <div className=\"container\">\n        <div className=\"product py-2\">\n          <div className=\"details p-3\">\n            No products found matching your query.\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"products my-5\">\n          <div className=\"grid\">\n            {loading ? (\n              <div className=\"loader\" />\n            ) : (\n              products.map((product) => (\n                <Item\n                  key={product.id}\n                  data={product}\n                  addToCart={() => addToCart(product)}\n                />\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Products;\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,YAAY,KAAQ,+BAA+B,CAC5D,OAASC,eAAe,KAAQ,kBAAkB,CAClD,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,OAASC,OAAO,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE7C,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACc,KAAK,CAAC,CAAGZ,eAAe,CAAC,CAAC,CACjC,KAAM,CAAEa,SAAU,CAAC,CAAGX,OAAO,CAAC,CAAC,CAE/B,KAAM,CAAAY,WAAW,CAAGF,KAAK,CAACG,GAAG,CAAC,GAAG,CAAC,CAElClB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChCP,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAC,QAAQ,CAAGI,WAAW,CACxB,KAAM,CAAAf,YAAY,CAACkB,0BAA0B,CAACH,WAAW,CAAC,CAC1D,KAAM,CAAAf,YAAY,CAACmB,gBAAgB,CAAC,CAAC,CACzCP,WAAW,CAACD,QAAQ,CAAC,CACrBD,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CACDO,aAAa,CAAC,CAAC,CAACG,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACtC,CAAC,CAAE,CAACP,WAAW,CAAC,CAAC,CAEjB,GAAI,CAACN,OAAO,EAAIM,WAAW,EAAI,CAACJ,QAAQ,CAACY,MAAM,CAAE,CAC/C,mBACElB,IAAA,QAAKmB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBpB,IAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BpB,IAAA,QAAKmB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,wCAE7B,CAAK,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAEA,mBACEpB,IAAA,CAAAE,SAAA,EAAAkB,QAAA,cACEpB,IAAA,QAAKmB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBpB,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BpB,IAAA,QAAKmB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClBhB,OAAO,cACNJ,IAAA,QAAKmB,SAAS,CAAC,QAAQ,CAAE,CAAC,CAE1Bb,QAAQ,CAACe,GAAG,CAAEC,OAAO,eACnBtB,IAAA,CAACH,IAAI,EAEH0B,IAAI,CAAED,OAAQ,CACdb,SAAS,CAAEA,CAAA,GAAMA,SAAS,CAACa,OAAO,CAAE,EAF/BA,OAAO,CAACE,EAGd,CACF,CACF,CACE,CAAC,CACH,CAAC,CACH,CAAC,CACN,CAAC,CAEP,CAAC,CAED,cAAe,CAAArB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}